{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% form_theme form '@PrestaShop/Admin/TwigTemplateForm/prestashop_ui_kit.html.twig' %}

{% block content %}

    {% include '@Modules/dpdshipping/views/templates/admin/_partials/navbar.html.twig' %}

    <div class="row">
        <div class="col-sm-12 col-md-3">
            {% include '@Modules/dpdshipping/views/templates/admin/_partials/navbar-configuration.html.twig' %}
        </div>

        <div class="col-sm-12 col-md-9">
            {{ form_start(form) }}
            <div class="card">
                <h3 class="card-header bg-white">
                    {{ 'Carriers'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}
                </h3>
                <div class="card-body">
                    <div class="alert alert-info mb-4" role="alert">
                        {{ 'Select an available shipping method for the Create Prestashop carrier. You can manage carriers on the standard prestashop page.'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}
                    </div>
                    <h4>{{ 'Available shipping methods'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</h4>
                    <div class="row">
                        <div class="col-12">
                            <div class="pl-2">
                                {{ form_label(form.dpdPolandCarrierStandard) }}
                                {{ form_widget(form.dpdPolandCarrierStandard) }}
                                {{ form_errors(form.dpdPolandCarrierStandard) }}
                            </div>
                        </div>

                        <div class="offset-2 col-10">

                            {% if dpdCarrier is not null and dpdCarrier.id is defined %}
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="col-2" scope="col">{{ 'Id'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-6" scope="col">{{ 'Name'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Visible'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Actions'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th>{{ dpdCarrier.id }}</th>
                                        <td>{{ dpdCarrier.name }}</td>
                                        <td>
                                            {% if dpdCarrier.active %}
                                                <i class="color_success"></i> <i class="material-icons" style="color:#009d00">done</i>
                                            {% else %}
                                                <i class="color_danger"></i> <i class="material-icons" style="color:red">blockade</i>
                                            {% endif %}

                                        </td>
                                        <td>
                                            <a href="{{ path('admin_carriers_edit', {'carrierId':  dpdCarrier.id }) }}" type="button"
                                               class="btn btn-sm btn-secondary">{{ 'Configure'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            {% endif %}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="pl-2">
                                {{ form_label(form.dpdPolandCarrierStandardCod) }}
                                {{ form_widget(form.dpdPolandCarrierStandardCod) }}
                                {{ form_errors(form.dpdPolandCarrierStandardCod) }}
                            </div>
                        </div>

                        <div class="offset-2 col-10">
                            {% if dpdCarrierCod is not null and dpdCarrierCod.id is defined %}
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="col-2" scope="col">{{ 'Id'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-6" scope="col">{{ 'Name'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Visible'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Actions'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th>{{ dpdCarrierCod.id }}</th>
                                        <td>{{ dpdCarrierCod.name }}</td>
                                        <td>
                                            {% if dpdCarrierCod.active %}
                                                <i class="color_success"></i> <i class="material-icons" style="color:#009d00">done</i>
                                            {% else %}
                                                <i class="color_danger"></i> <i class="material-icons" style="color:red">blockade</i>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <a href="{{ path('admin_carriers_edit', {'carrierId':  dpdCarrierCod.id }) }}" type="button"
                                               class="btn btn-sm btn-secondary">{{ 'Configure'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                            {% endif %}
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-12">
                            <div class="pl-2">
                                {{ form_label(form.dpdPolandCarrierPickup) }}
                                {{ form_widget(form.dpdPolandCarrierPickup) }}
                                {{ form_errors(form.dpdPolandCarrierPickup) }}
                            </div>
                        </div>

                        <div class="offset-2 col-10">

                            {% if dpdCarrierPickup is not null and dpdCarrierPickup.id is defined %}
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="col-2" scope="col">{{ 'Id'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-6" scope="col">{{ 'Name'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Visible'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Actions'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th>{{ dpdCarrierPickup.id }}</th>
                                        <td>{{ dpdCarrierPickup.name }}</td>
                                        <td>
                                            {% if dpdCarrierPickup.active %}
                                                <i class="color_success"></i> <i class="material-icons" style="color:#009d00">done</i>
                                            {% else %}
                                                <i class="color_danger"></i> <i class="material-icons" style="color:red">blockade</i>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <a href="{{ path('admin_carriers_edit', {'carrierId':  dpdCarrierPickup.id }) }}" type="button"
                                               class="btn btn-sm btn-secondary">{{ 'Configure'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                                {% set apiConnection = [
                                    form.dpdPolandCarrierPickupFilterSwipBox,
                                    form.dpdPolandCarrierPickupFilterPointsWithServices
                                ] %}
                                <p class="font-weight-bold">{{ 'Filters for Pickup map'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}:</p>
                                <div class="row">
                                    {% for item in apiConnection %}
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-xl-3">
                                            {{ form_widget(item) }}
                                            {{ form_errors(item) }}
                                        </div>

                                    {% endfor %}
                                </div>

                                {% set apiConnection = [
                                    form.dpdPolandCarrierPickupFilterOpenLate,
                                    form.dpdPolandCarrierPickupFilterOpenSaturdays,
                                    form.dpdPolandCarrierPickupFilterOpenSundays,
                                    form.dpdPolandCarrierPickupFilterParking,
                                    form.dpdPolandCarrierPickupFilterDirectDelivery,
                                    form.dpdPolandCarrierPickupFilterDirectDeliveryCod,
                                    form.dpdPolandCarrierPickupFilterDropoffOnline,
                                    form.dpdPolandCarrierPickupFilterDropoffOffline,
                                    form.dpdPolandCarrierPickupFilterSwapParcel,
                                    form.dpdPolandCarrierPickupFilterFresh,
                                    form.dpdPolandCarrierPickupFilterFittingRoom,
                                    form.dpdPolandCarrierPickupFilterCardPayment,
                                    form.dpdPolandCarrierPickupFilterRod,
                                    form.dpdPolandCarrierPickupFilterLQ,
                                    form.dpdPolandCarrierPickupFilterDigitalLabel,
                                    form.dpdPolandCarrierPickupFilterDisabledFriendly,

                                ] %}
                                <div class="row">
                                    {% for item in apiConnection %}
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-xl-3">
                                            {{ form_widget(item) }}
                                            {{ form_errors(item) }}
                                        </div>

                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-12">
                            <div class="pl-2">
                                {{ form_label(form.dpdPolandCarrierPickupCOD) }}
                                {{ form_widget(form.dpdPolandCarrierPickupCOD) }}
                                {{ form_errors(form.dpdPolandCarrierPickupCOD) }}
                            </div>
                        </div>

                        <div class="offset-2 col-10">

                            {% if dpdCarrierPickupCod is not null and dpdCarrierPickupCod.id is defined %}
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th class="col-2" scope="col">{{ 'Id'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-6" scope="col">{{ 'Name'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Visible'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                        <th class="col-2" scope="col">{{ 'Actions'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th>{{ dpdCarrierPickupCod.id }}</th>
                                        <td>{{ dpdCarrierPickupCod.name }}</td>
                                        <td>
                                            {% if dpdCarrierPickupCod.active %}
                                                <i class="color_success"></i> <i class="material-icons" style="color:#009d00">done</i>
                                            {% else %}
                                                <i class="color_danger"></i> <i class="material-icons" style="color:red">blockade</i>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <a href="{{ path('admin_carriers_edit', {'carrierId':  dpdCarrierPickupCod.id }) }}" type="button"
                                               class="btn btn-sm btn-secondary">{{ 'Configure'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                {% set apiConnection = [
                                    form.dpdPolandCarrierPickupCODFilterSwipBox,
                                    form.dpdPolandCarrierPickupCODFilterPointsWithServices,
                                ] %}
                                <p class="font-weight-bold">{{ 'Filters for Pickup map'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}:</p>
                                <div class="row">
                                    {% for item in apiConnection %}
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-xl-3">
                                            {{ form_widget(item) }}
                                            {{ form_errors(item) }}
                                        </div>
                                    {% endfor %}
                                </div>
                                {% set apiConnection = [
                                    form.dpdPolandCarrierPickupCODFilterOpenLate,
                                    form.dpdPolandCarrierPickupCODFilterOpenSaturdays,
                                    form.dpdPolandCarrierPickupCODFilterOpenSundays,
                                    form.dpdPolandCarrierPickupCODFilterParking,
                                    form.dpdPolandCarrierPickupCODFilterDirectDelivery,
                                    form.dpdPolandCarrierPickupCODFilterDirectDeliveryCod,
                                    form.dpdPolandCarrierPickupCODFilterDropoffOnline,
                                    form.dpdPolandCarrierPickupCODFilterDropoffOffline,
                                    form.dpdPolandCarrierPickupCODFilterSwapParcel,
                                    form.dpdPolandCarrierPickupCODFilterFresh,
                                    form.dpdPolandCarrierPickupCODFilterFittingRoom,
                                    form.dpdPolandCarrierPickupCODFilterCardPayment,
                                    form.dpdPolandCarrierPickupCODFilterRod,
                                    form.dpdPolandCarrierPickupCODFilterLQ,
                                    form.dpdPolandCarrierPickupCODFilterDigitalLabel,
                                    form.dpdPolandCarrierPickupCODFilterDisabledFriendly,
                                ] %}
                                <div class="row">
                                    {% for item in apiConnection %}
                                        <div class="col-xs-12 col-sm-12 col-md-4 col-xl-3">
                                            {{ form_widget(item) }}
                                            {{ form_errors(item) }}
                                        </div>
                                    {% endfor %}
                                </div>

                            {% endif %}
                        </div>
                    </div>

                    <div class="row pt-2">

                        <div class="col ml-3">
                            <p class="mt-3 font-weight-bold">{{ 'COD payment methods'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}:</p>

                            {% for codPaymentMethod in form.dpdCarrierCodPaymentMethods %}
                                <div class="d-flex align-items-center">
                                    <div class="form-check form-check-inline">
                                        {{ form_widget(codPaymentMethod.enable, {'attr': {'class': 'form-check-input'}}) }}
                                        <label class="form-check-label" for="{{ codPaymentMethod.enable.vars.id }}"></label>
                                    </div>
                                    <span> {{ codPaymentMethod.displayName.vars.value }}</span>
                                    {{ form_errors(codPaymentMethod.enable) }}
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white">
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-secondary float-right" id="save-button">
                            {{ 'Save'|trans({}, 'Modules.Dpdshipping.AdminCarrier') }}
                        </button>
                    </div>
                </div>
            </div>
        </div>

        {{ form_widget(form._token) }}
        {{ form_end(form, {'render_rest': false}) }}
    </div>
{% endblock %}



